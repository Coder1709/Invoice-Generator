# Spring Boot PDF Invoice Generator

This is a Spring Boot application that provides a REST API to dynamically generate PDF invoices for vehicle sales. It accepts a JSON payload with sales details and returns a downloadable, professionally formatted PDF.

The project is built with a **clean, decoupled architecture** following SOLID principles, separating concerns into controllers, services, repositories, and a dedicated generator service.

### ‚ú® Key Features
* **Spring Boot 3 & Java 17**
* **JSON-to-PDF:** Accepts a simple JSON request.
* **Direct PDF Generation:** Uses **Apache PDFBox** to draw the PDF from scratch, allowing for precise control over the layout, fonts, and colors.
* **QR Code Bonus:** Generates and embeds a unique transaction QR code using **ZXing**.
* **SOLID Design:** Easy to maintain and extend (e.g., adding a new `HtmlInvoiceGenerator` would be simple).

---

## üèóÔ∏è Project Structure

This project uses a clean architecture to separate concerns. The `InvoiceService` handles all business logic, while the `PdfInvoiceGenerator` is only responsible for the presentation (drawing the PDF).

![Project code structure diagram](https://github.com/user-attachments/assets/7db42ce5-0086-4eb3-bbd6-ac078e138ee2)

---

## üìÑ Sample Output

Here is an example of the final PDF invoice generated by the API, complete with custom UI elements, a table, and a QR code.

![Sample of the final generated PDF invoice](https://github.com/user-attachments/assets/7d67b46f-1e14-4adb-a1c8-d92661613fad)

---

## üöÄ How to Run Locally

1.  **Clone the repository:**
    ```bash
    git clone [your-github-repo-url]
    cd [project-directory]
    ```
2.  **Build the project:**
    (This will download all Maven dependencies)
    ```bash
    mvn clean install
    ```
3.  **Run the application:**
    ```bash
    mvn spring-boot:run
    ```
The API will be live and ready for requests at `http://localhost:8080`.

---

## üß™ API Usage

You can test the API using any client like Postman or a `curl` command.

* **Endpoint:** `POST /api/invoice/generate`
* **Content-Type:** `application/json`

### Request Body
Your API expects a JSON body with the following structure:
```json
{
  "dealerId": "D001",
  "vehicleId": "V101",
  "customerName": "Arpit"
}


### Example `curl` Request
This command will send the request and save the resulting file as `invoice.pdf`.
```bash
curl -X POST http://localhost:8080/api/invoice/generate \
-H "Content-Type: application/json" \
-d '{
      "dealerId": "D001",
      "vehicleId": "V101",
      "customerName": "Arpit"
    }' \
--output invoice.pdf

## üõ†Ô∏è Key Dependencies & Rationale

* **Spring Boot Starter Web:**
  * **Why:** It's the standard, battle-tested framework for building RESTful APIs in Java. It includes an embedded Tomcat server, making the application self-contained and easy to deploy without external server setup.

* **Apache PDFBox:**
  * **Why:** Chosen for its robust, low-level control over PDF creation. Unlike HTML-to-PDF converters, PDFBox allows us to precisely draw text, shapes, and images on a canvas, ensuring pixel-perfect invoice layouts regardless of the environment.

* **ZXing ("Zebra Crossing"):**
  * **Why:** An industry-standard, open-source library for barcode processing. It provides a simple and reliable way to generate QR code images in memory, which we then embed directly into the PDF for the bonus requirement.

* **Lombok:**
  * **Why:** Reduces boilerplate code significantly. By using annotations like `@Data`, `@Builder`, and `@RequiredArgsConstructor`, we keep our model and service classes clean, readable, and focused on business logic rather than repetitive Java syntax.
<img width="2000" height="1556" alt="image" src="https://github.com/user-attachments/assets/7db42ce5-0086-4eb3-bbd6-ac078e138ee2" />
<img width="752" height="1056" alt="image" src="https://github.com/user-attachments/assets/7d67b46f-1e14-4adb-a1c8-d92661613fad" />

